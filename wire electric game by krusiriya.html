<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes electricPulse {
            0% { box-shadow: 0 0 5px #ffd700; }
            50% { box-shadow: 0 0 20px #ffd700, 0 0 30px #ffd700; }
            100% { box-shadow: 0 0 5px #ffd700; }
        }
        @keyframes wireFlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        @keyframes sparkle {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
        }
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        @keyframes wrongAnswer {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }
        .electric-pulse { animation: electricPulse 2s infinite; }
        .wire-flow { 
            background: linear-gradient(90deg, #ffd700, #ffed4e, #ffd700, #ffed4e);
            background-size: 200% 100%;
            animation: wireFlow 3s linear infinite;
        }
        .sparkle { animation: sparkle 1.5s ease-in-out infinite; }
        .slide-up { animation: slideUp 0.6s ease-out; }
        .bounce { animation: bounce 2s infinite; }
        .correct-answer { animation: correctAnswer 0.5s ease-in-out; }
        .wrong-answer { animation: wrongAnswer 0.5s ease-in-out; }
        .leaderboard-item {
            transition: all 0.3s ease;
        }
        .leaderboard-item:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-800 via-blue-900 to-indigo-900 min-h-screen text-white overflow-x-hidden">
    
    <div id="mainMenu" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-8 w-full max-w-md border border-white/20 slide-up">
            <div class="text-center mb-8">
                <div class="text-6xl mb-4 sparkle">‚ö°</div>
                <h1 class="text-3xl font-bold mb-2 electric-pulse">‡πÄ‡∏Å‡∏°‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</h1>
                <p class="text-gray-300">‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</p>
            </div>
            
            <div class="space-y-4">
                <button onclick="showRegistration()" class="w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-bold py-4 px-6 rounded-xl hover:from-yellow-500 hover:to-orange-600 transition-all duration-300 electric-pulse">
                    üéÆ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà
                </button>
                <button onclick="showLeaderboard()" class="w-full bg-gradient-to-r from-blue-400 to-purple-500 text-white font-bold py-4 px-6 rounded-xl hover:from-blue-500 hover:to-purple-600 transition-all duration-300">
                    üèÜ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                </button>
                <button onclick="showWireGuide()" class="w-full bg-gradient-to-r from-green-400 to-teal-500 text-white font-bold py-4 px-6 rounded-xl hover:from-green-500 hover:to-teal-600 transition-all duration-300">
                    üìö ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤
                </button>
            </div>
        </div>
    </div>

    <div id="registrationScreen" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-8 w-full max-w-md border border-white/20 slide-up">
            <div class="text-center mb-6">
                <div class="text-4xl mb-3 bounce">üë§</div>
                <h2 class="text-2xl font-bold mb-2">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</h2>
                <p class="text-sm text-gray-300">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" id="playerName" class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition-all" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</label>
                    <select id="playerClass" class="w-full px-4 py-3 rounded-xl bg-slate-700/80 border border-slate-500 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400 transition-all">
                        <option value="" class="bg-slate-700 text-gray-300">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</option>
                        <option value="‡∏°.6/1" class="bg-slate-700 text-white">‡∏°.6/1</option>
                        <option value="‡∏°.6/2" class="bg-slate-700 text-white">‡∏°.6/2</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</label>
                    <input type="number" id="playerNumber" class="w-full px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition-all" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà" min="1" max="50">
                </div>
                
                <div class="flex space-x-3 pt-4">
                    <button onclick="showMainMenu()" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300">
                        ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
                    </button>
                    <button onclick="startGame()" class="flex-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-bold py-3 px-6 rounded-xl hover:from-yellow-500 hover:to-orange-600 transition-all duration-300 electric-pulse">
                        ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="gameScreen" class="hidden min-h-screen p-4">
        <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-4 mb-4 border border-white/20">
            <div class="flex justify-between items-center">
                <div>
                    <h3 class="text-lg font-bold" id="playerInfo"></h3>
                    <div class="flex items-center space-x-4 text-sm text-gray-300">
                        <span>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score" class="text-yellow-400 font-bold">0</span></span>
                        <span>‡πÄ‡∏ß‡∏•‡∏≤: <span id="timer" class="text-red-400 font-bold">30</span>s</span>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-sm text-gray-300">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà</div>
                    <div class="text-2xl font-bold text-yellow-400">
                        <span id="currentQuestion">1</span>/20
                    </div>
                </div>
            </div>
            
            <div class="mt-4">
                <div class="w-full bg-gray-700 rounded-full h-2">
                    <div id="progressBar" class="wire-flow h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <div id="questionCard" class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 mb-4 border border-white/20 slide-up">
            <div class="text-center mb-6">
                <div class="text-4xl mb-3 sparkle" id="questionIcon">üîå</div>
                <h3 class="text-xl font-bold mb-3 text-yellow-400">‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå</h3>
                <p class="text-gray-200 leading-relaxed" id="questionText"></p>
            </div>
        </div>

        <div class="grid grid-cols-1 gap-3 mb-4" id="wireOptions">
            </div>

        <div class="flex space-x-3">
            <button id="pauseButton" onclick="pauseGame()" class="flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300">
                ‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
            </button>
            <button onclick="quitGame()" class="flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300">
                ‚ùå ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏Å‡∏°
            </button>
        </div>
    </div>

    <div id="resultScreen" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-8 w-full max-w-md border border-white/20 text-center slide-up">
            <div class="text-6xl mb-4 sparkle" id="resultIcon">üèÜ</div>
            <h2 class="text-3xl font-bold mb-4" id="resultTitle">‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß!</h2>
            
            <div class="bg-white/20 rounded-2xl p-6 mb-6">
                <div id="finalPlayerInfo" class="text-lg font-semibold mb-3"></div>
                <div class="text-4xl font-bold text-yellow-400 mb-3">
                    <span id="finalScore">0</span>/20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                </div>
                <div class="text-lg font-semibold mb-2">
                    ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: <span id="finalTime" class="text-blue-400">0</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                </div>
                <div id="scoreMessage" class="text-sm text-gray-300"></div>
                <div id="rankMessage" class="text-lg font-bold text-green-400 mt-2"></div>
            </div>
            
            <div class="space-y-3">
                <button onclick="restartGame()" class="w-full bg-gradient-to-r from-green-400 to-blue-500 text-white font-bold py-3 px-6 rounded-xl hover:from-green-500 hover:to-blue-600 transition-all duration-300">
                    üîÑ ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà
                </button>
                <button onclick="showLeaderboard()" class="w-full bg-gradient-to-r from-purple-400 to-pink-500 text-white font-bold py-3 px-6 rounded-xl hover:from-purple-500 hover:to-pink-600 transition-all duration-300">
                    üèÜ ‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                </button>
                <button onclick="showMainMenu()" class="w-full bg-gradient-to-r from-gray-400 to-gray-600 text-white font-bold py-3 px-6 rounded-xl hover:from-gray-500 hover:to-gray-700 transition-all duration-300">
                    üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                </button>
            </div>
        </div>
    </div>

    <div id="leaderboardScreen" class="hidden min-h-screen p-4">
        <div class="max-w-2xl mx-auto">
            <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 slide-up">
                <div class="text-center mb-6">
                    <div class="text-5xl mb-3 sparkle">üèÜ</div>
                    <h2 class="text-3xl font-bold mb-2">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</h2>
                    <p class="text-gray-300">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 10 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å</p>
                </div>
                
                <div id="leaderboardList" class="space-y-3 mb-6">
                    </div>
                
                <div class="text-center">
                    <button onclick="showMainMenu()" class="bg-gradient-to-r from-blue-400 to-purple-500 text-white font-bold py-3 px-8 rounded-xl hover:from-blue-500 hover:to-purple-600 transition-all duration-300">
                        ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="wireGuideScreen" class="hidden min-h-screen p-4">
        <div class="max-w-4xl mx-auto">
            <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 slide-up">
                <div class="text-center mb-6">
                    <div class="text-5xl mb-3 sparkle">üìö</div>
                    <h2 class="text-3xl font-bold mb-2">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</h2>
                    <p class="text-gray-300">‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</p>
                </div>
                
                <div id="wireGuideList" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    </div>
                
                <div class="text-center">
                    <button onclick="showMainMenu()" class="bg-gradient-to-r from-green-400 to-teal-500 text-white font-bold py-3 px-8 rounded-xl hover:from-green-500 hover:to-teal-600 transition-all duration-300">
                        ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const wireTypes = {
            'VAF': {
                name: 'VAF (‡∏™‡∏≤‡∏¢‡∏Ñ‡∏π‡πà‡πÅ‡∏ö‡∏ô)',
                description: '‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ä‡∏ô‡∏¥‡∏î‡πÅ‡∏ö‡∏ô ‡∏°‡∏µ‡∏â‡∏ô‡∏ß‡∏ô PVC ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏µ‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏ß',
                usage: '‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏î‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏ú‡∏ô‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏ï‡∏µ‡∏Å‡∏¥‡πä‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏´‡πâ‡∏á',
                icon: 'üìè',
                color: 'from-gray-400 to-gray-600'
            },
            'THW': {
                name: 'THW (‡∏™‡∏≤‡∏¢‡πÅ‡∏Å‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß)',
                description: '‡∏™‡∏≤‡∏¢‡πÅ‡∏Å‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏°‡∏ô',
                usage: '‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏Ç‡∏≠‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ ‡∏ô‡∏¥‡∏¢‡∏°‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏î‡∏¥‡∏ô‡πÉ‡∏ô‡∏£‡∏≤‡∏á Wire-way',
                icon: 'üîå',
                color: 'from-blue-400 to-blue-600'
            },
            'NYY': {
                name: 'NYY (‡∏™‡∏≤‡∏¢‡∏´‡∏∏‡πâ‡∏°‡∏â‡∏ô‡∏ß‡∏ô 2 ‡∏ä‡∏±‡πâ‡∏ô)',
                description: '‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ó‡∏µ‡πà‡∏´‡∏∏‡πâ‡∏°‡∏â‡∏ô‡∏ß‡∏ô 2 ‡∏ä‡∏±‡πâ‡∏ô',
                usage: '‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô',
                icon: 'üåç',
                color: 'from-green-400 to-green-600'
            },
            'VCT': {
                name: 'VCT (‡∏™‡∏≤‡∏¢‡πÅ‡∏Å‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏™‡πâ‡∏ô)',
                description: '‡∏™‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏ô‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ù‡∏≠‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏™‡πâ‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏™‡∏≤‡∏¢ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏™‡∏π‡∏á',
                usage: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏ö‡πà‡∏≠‡∏¢',
                icon: 'üè≠',
                color: 'from-orange-400 to-orange-600'
            },
            'VKF': {
                name: 'VKF (‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏≠‡πà‡∏≠‡∏ô ‡∏´‡∏∏‡πâ‡∏°‡∏â‡∏ô‡∏ß‡∏ô‡∏™‡∏≠‡∏á‡∏ä‡∏±‡πâ‡∏ô)',
                description: '‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ó‡∏µ‡πà‡∏´‡∏∏‡πâ‡∏°‡∏â‡∏ô‡∏ß‡∏ô‡∏™‡∏≠‡∏á‡∏ä‡∏±‡πâ‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏™‡∏≤‡∏¢ VFF',
                usage: '‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÅ‡∏ó‡∏ô VFF ‡πÄ‡∏î‡∏¥‡∏° ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Å‡∏ß‡πà‡∏≤',
                icon: 'üè†',
                color: 'from-purple-400 to-purple-600'
            },
            'VFF': {
                name: 'VFF (‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏≠‡πà‡∏≠‡∏ô)',
                description: '‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á‡∏ù‡∏≠‡∏¢ 2 ‡πÅ‡∏Å‡∏ô ‡∏´‡∏∏‡πâ‡∏°‡∏â‡∏ô‡∏ß‡∏ô PVC ‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß',
                usage: '‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏•‡∏∞‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏≤‡∏¢ VKF ‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤',
                icon: '‚ùå',
                color: 'from-red-400 to-red-600'
            }
        };

        const questions = [
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏°‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 5 ‡∏ä‡∏±‡πâ‡∏ô ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡πÉ‡∏ô‡∏£‡∏≤‡∏á Wire-way', correct: 'THW', options: ['VAF', 'THW', 'NYY', 'VCT'], icon: 'üè¢' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á 200 ‡πÄ‡∏°‡∏ï‡∏£', correct: 'NYY', options: ['VAF', 'THW', 'NYY', 'VKF'], icon: '‚õèÔ∏è' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢', correct: 'VKF', options: ['VFF', 'VKF', 'VAF', 'THW'], icon: 'üß∫' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ï‡∏≤‡∏°‡∏ú‡∏ô‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏ï‡∏µ‡∏Å‡∏¥‡πä‡∏ö‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏´‡πâ‡∏á ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô', correct: 'VAF', options: ['VAF', 'VCT', 'NYY', 'THW'], icon: 'üè†' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏ö‡πà‡∏≠‡∏¢', correct: 'VCT', options: ['VAF', 'THW', 'VCT', 'NYY'], icon: '‚öôÔ∏è' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏û‡∏±‡∏î‡∏•‡∏°‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î', correct: 'VKF', options: ['VFF', 'VKF', 'VCT', 'VAF'], icon: 'üí®' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏°‡∏ô‡πÉ‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏π‡∏á 10 ‡∏ä‡∏±‡πâ‡∏ô ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏£‡πâ‡∏≠‡∏¢‡∏™‡∏≤‡∏¢', correct: 'THW', options: ['THW', 'VAF', 'VKF', 'VCT'], icon: 'üèóÔ∏è' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ ‡∏ú‡πà‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏π‡∏á', correct: 'NYY', options: ['NYY', 'THW', 'VAF', 'VCT'], icon: 'üåßÔ∏è' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ö‡πà‡∏≠‡∏¢', correct: 'VCT', options: ['VCT', 'VAF', 'THW', 'NYY'], icon: 'üîß' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏ô‡∏±‡∏á ‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏´‡πâ‡∏á', correct: 'VAF', options: ['VAF', 'VKF', 'THW', 'VCT'], icon: 'üîå' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô', correct: 'VKF', options: ['VFF', 'VKF', 'VAF', 'NYY'], icon: '‚ùÑÔ∏è' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏°‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≤‡∏á', correct: 'THW', options: ['THW', 'VCT', 'NYY', 'VAF'], icon: 'üè≠' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏∂‡∏Å ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á 500 ‡πÄ‡∏°‡∏ï‡∏£', correct: 'NYY', options: ['NYY', 'THW', 'VCT', 'VAF'], icon: 'üöá' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô‡∏™‡∏∞‡πÄ‡∏ó‡∏∑‡∏≠‡∏ô', correct: 'VCT', options: ['VCT', 'VAF', 'THW', 'VKF'], icon: 'üì≥' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢', correct: 'VKF', options: ['VKF', 'VFF', 'VAF', 'THW'], icon: 'üç≥' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏°‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏™‡∏π‡∏á', correct: 'THW', options: ['THW', 'VAF', 'VCT', 'VKF'], icon: 'üè•' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏¥‡∏ü‡∏ï‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏á', correct: 'VCT', options: ['VCT', 'THW', 'VAF', 'NYY'], icon: 'üõó' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏ï‡πâ‡∏ô‡πâ‡∏≥‡∏Ç‡πâ‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏î‡∏µ', correct: 'NYY', options: ['NYY', 'THW', 'VKF', 'VAF'], icon: 'üåä' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏π‡∏î‡∏ù‡∏∏‡πà‡∏ô‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô', correct: 'VKF', options: ['VKF', 'VFF', 'VCT', 'VAF'], icon: 'üßπ' },
            { situation: '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏¥‡∏ï‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÑ‡∏î‡πâ', correct: 'NYY', options: ['NYY', 'VAF', 'THW', 'VKF'], icon: 'üè≠' }
        ];

        let currentPlayer = {};
        let currentQuestionIndex = 0;
        let score = 0;
        let timeLeft = 30;
        let gameTimer = null;
        let totalGameTime = 0;
        let gameStartTime = 0;
        let shuffledQuestions = [];
        let leaderboard = JSON.parse(localStorage.getItem('electricGameLeaderboard')) || [];
        let isPaused = false; // <-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Å‡∏°

        function showMainMenu() {
            hideAllScreens();
            document.getElementById('mainMenu').classList.remove('hidden');
        }

        function showRegistration() {
            hideAllScreens();
            document.getElementById('registrationScreen').classList.remove('hidden');
        }

        function showLeaderboard() {
            hideAllScreens();
            document.getElementById('leaderboardScreen').classList.remove('hidden');
            updateLeaderboardDisplay();
        }

        function showWireGuide() {
            hideAllScreens();
            document.getElementById('wireGuideScreen').classList.remove('hidden');
            updateWireGuideDisplay();
        }

        function hideAllScreens() {
            const screens = ['mainMenu', 'registrationScreen', 'gameScreen', 'resultScreen', 'leaderboardScreen', 'wireGuideScreen'];
            screens.forEach(screen => {
                document.getElementById(screen).classList.add('hidden');
            });
        }

        function startGame() {
            const name = document.getElementById('playerName').value.trim();
            const playerClass = document.getElementById('playerClass').value;
            const playerNumber = document.getElementById('playerNumber').value;

            if (!name || !playerClass || !playerNumber) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
                return;
            }

            currentPlayer = { name, class: playerClass, number: playerNumber };
            score = 0;
            currentQuestionIndex = 0;
            timeLeft = 30;
            gameStartTime = Date.now();
            isPaused = false; // <-- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
            shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);

            hideAllScreens();
            document.getElementById('gameScreen').classList.remove('hidden');
            
            updatePlayerInfo();
            showQuestion();
            startTimer();
        }

        function updatePlayerInfo() {
            document.getElementById('playerInfo').textContent = `${currentPlayer.name} (${currentPlayer.class} ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ${currentPlayer.number})`;
        }

        function startTimer() {
            if (gameTimer) clearInterval(gameTimer);
            
            gameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    selectAnswer(null); // Auto submit when time runs out
                }
            }, 1000);
        }

        function showQuestion() {
            const question = shuffledQuestions[currentQuestionIndex];
            document.getElementById('questionText').textContent = question.situation;
            document.getElementById('questionIcon').textContent = question.icon;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('score').textContent = score;

            const progress = ((currentQuestionIndex) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            timeLeft = 30;
            document.getElementById('timer').textContent = timeLeft;

            // Shuffle options
            const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);
            
            const optionsContainer = document.getElementById('wireOptions');
            optionsContainer.innerHTML = '';

            shuffledOptions.forEach((option, index) => {
                const wire = wireTypes[option];
                const optionElement = document.createElement('div');
                optionElement.className = `bg-gradient-to-r ${wire.color} bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20 cursor-pointer hover:bg-white/20 transition-all duration-300 slide-up`;
                optionElement.style.animationDelay = `${index * 0.1}s`;
                optionElement.innerHTML = `
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl sparkle">${wire.icon}</div>
                        <div class="flex-1">
                            <div class="font-bold text-white text-lg">${wire.name}</div>
                            <div class="text-sm text-gray-200 mt-1">${wire.description}</div>
                        </div>
                    </div>
                `;
                optionElement.onclick = () => selectAnswer(option);
                optionsContainer.appendChild(optionElement);
            });
        }

        function selectAnswer(selectedWire) {
            if (isPaused) return; // ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏°‡∏´‡∏¢‡∏∏‡∏î‡∏≠‡∏¢‡∏π‡πà

            if (gameTimer) {
                clearInterval(gameTimer);
                gameTimer = null;
            }

            const question = shuffledQuestions[currentQuestionIndex];
            const isCorrect = selectedWire === question.correct;

            if (isCorrect) {
                score++;
            }

            // Show feedback with animations
            const options = document.querySelectorAll('#wireOptions > div');
            options.forEach(option => {
                const wireNameInOption = option.querySelector('.font-bold').textContent;
                const wireType = Object.keys(wireTypes).find(key => wireTypes[key].name === wireNameInOption);
                
                if (wireType === question.correct) {
                    option.classList.add('bg-green-500/50', 'border-green-400', 'correct-answer');
                } else if (wireType === selectedWire && !isCorrect) {
                    option.classList.add('bg-red-500/50', 'border-red-400', 'wrong-answer');
                }
                option.style.pointerEvents = 'none';
            });

            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    showQuestion();
                    startTimer();
                } else {
                    showResult();
                }
            }, 2000);
        }

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ---
        function pauseGame() {
            const pauseButton = document.getElementById('pauseButton');
            const optionsContainer = document.getElementById('wireOptions');
            isPaused = !isPaused; // ‡∏™‡∏•‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

            if (isPaused) {
                // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Å‡∏°
                if (gameTimer) {
                    clearInterval(gameTimer);
                    gameTimer = null;
                }
                pauseButton.innerHTML = '‚ñ∂Ô∏è ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠';
                pauseButton.classList.remove('bg-yellow-600', 'hover:bg-yellow-700');
                pauseButton.classList.add('bg-green-600', 'hover:bg-green-700');
                optionsContainer.style.pointerEvents = 'none'; // ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
            } else {
                // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠
                startTimer();
                pauseButton.innerHTML = '‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß';
                pauseButton.classList.remove('bg-green-600', 'hover:bg-green-700');
                pauseButton.classList.add('bg-yellow-600', 'hover:bg-yellow-700');
                optionsContainer.style.pointerEvents = 'auto'; // ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
            }
        }

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ---
        function quitGame() {
            const wasPaused = isPaused;
            // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡∏Ç‡∏ì‡∏∞‡πÅ‡∏™‡∏î‡∏á dialog
            if (!wasPaused && gameTimer) {
                clearInterval(gameTimer);
                gameTimer = null;
            }

            // ‡πÉ‡∏ä‡πâ setTimeout ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ UI ‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á confirm dialog
            setTimeout(() => {
                const shouldQuit = confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏Å‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å');
                
                if (shouldQuit) {
                    // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    score = 0;
                    currentQuestionIndex = 0;
                    isPaused = false;
                    currentPlayer = {};
                    // ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                    showMainMenu();
                } else {
                    // ‡∏´‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å ‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ï‡πà‡∏≠ (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏û‡∏±‡∏Å‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤)
                    if (!wasPaused) {
                        startTimer();
                    }
                }
            }, 50);
        }


        function showResult() {
            if (gameTimer) {
                clearInterval(gameTimer);
                gameTimer = null;
            }

            totalGameTime = Math.floor((Date.now() - gameStartTime) / 1000);

            hideAllScreens();
            document.getElementById('resultScreen').classList.remove('hidden');

            document.getElementById('finalPlayerInfo').textContent = `${currentPlayer.name} (${currentPlayer.class} ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ${currentPlayer.number})`;
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalTime').textContent = totalGameTime;

            let message = '';
            let icon = '';
            if (score >= 18) {
                message = '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤! üåü';
                icon = 'üèÜ';
            } else if (score >= 15) {
                message = '‡∏î‡∏µ‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏î‡∏µ üëç';
                icon = 'ü•á';
            } else if (score >= 12) {
                message = '‡∏î‡∏µ! ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ üìö';
                icon = 'ü•à';
            } else if (score >= 10) {
                message = '‡∏ú‡πà‡∏≤‡∏ô! ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° üìñ';
                icon = 'ü•â';
            } else {
                message = '‡∏Ñ‡∏ß‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ üí™';
                icon = 'üìö';
            }
            
            document.getElementById('scoreMessage').textContent = message;
            document.getElementById('resultIcon').textContent = icon;

            // Save to leaderboard
            const playerResult = {
                name: currentPlayer.name,
                class: currentPlayer.class,
                number: currentPlayer.number,
                score: score,
                time: totalGameTime,
                date: new Date().toLocaleDateString('th-TH')
            };

            leaderboard.push(playerResult);
            leaderboard.sort((a, b) => {
                if (b.score !== a.score) return b.score - a.score;
                return a.time - b.time;
            });
            leaderboard = leaderboard.slice(0, 10); // Keep top 10
            localStorage.setItem('electricGameLeaderboard', JSON.stringify(leaderboard));

            // Show rank
            const rank = leaderboard.findIndex(p => 
                p.name === playerResult.name && 
                p.class === playerResult.class && 
                p.number === playerResult.number &&
                p.score === playerResult.score &&
                p.time === playerResult.time
            ) + 1;

            if (rank > 0 && rank <= 10) {
                document.getElementById('rankMessage').textContent = `üéâ ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà ${rank} ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô!`;
            } else {
                document.getElementById('rankMessage').textContent = '';
            }
        }

        function updateLeaderboardDisplay() {
            const container = document.getElementById('leaderboardList');
            container.innerHTML = '';

            if (leaderboard.length === 0) {
                container.innerHTML = '<div class="text-center text-gray-400 py-8">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>';
                return;
            }

            leaderboard.forEach((player, index) => {
                const item = document.createElement('div');
                item.className = 'leaderboard-item bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20';
                
                let rankIcon = '';
                if (index === 0) rankIcon = 'ü•á';
                else if (index === 1) rankIcon = 'ü•à';
                else if (index === 2) rankIcon = 'ü•â';
                else rankIcon = `<span class="text-gray-300">${index + 1}</span>`;

                item.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="text-2xl font-bold w-8 text-center">${rankIcon}</div>
                            <div>
                                <div class="font-bold text-lg">${player.name}</div>
                                <div class="text-sm text-gray-300">${player.class} ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ${player.number}</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xl font-bold text-yellow-400">${player.score}/20</div>
                            <div class="text-sm text-gray-300">${player.time}s</div>
                        </div>
                    </div>
                `;
                container.appendChild(item);
            });
        }

        function updateWireGuideDisplay() {
            const container = document.getElementById('wireGuideList');
            container.innerHTML = '';

            Object.entries(wireTypes).forEach(([key, wire]) => {
                const item = document.createElement('div');
                item.className = `bg-gradient-to-r ${wire.color} bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20`;
                
                item.innerHTML = `
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2 sparkle">${wire.icon}</div>
                        <h3 class="text-xl font-bold text-white">${wire.name}</h3>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <h4 class="font-semibold text-yellow-400 mb-1">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞:</h4>
                            <p class="text-sm text-gray-200">${wire.description}</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-yellow-400 mb-1">‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</h4>
                            <p class="text-sm text-gray-200">${wire.usage}</p>
                        </div>
                    </div>
                `;
                container.appendChild(item);
            });
        }

        function restartGame() {
            score = 0;
            currentQuestionIndex = 0;
            timeLeft = 30;
            gameStartTime = Date.now();
            isPaused = false; // <-- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
            shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
            
            hideAllScreens();
            document.getElementById('gameScreen').classList.remove('hidden');
            
            showQuestion();
            startTimer();
        }

        // Initialize the game
        showMainMenu();
    </script>
</body>
</html>